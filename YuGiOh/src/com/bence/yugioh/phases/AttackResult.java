package com.bence.yugioh.phases;

import com.bence.yugioh.YuGiOhGame;
import com.bence.yugioh.slots.CardSlot;

/**
 * Egy támadás eredményét tárolja.
 * @author Bence
 *
 */
public class AttackResult {
	public YuGiOhGame Game;
	
	public CardSlot Source = null; //A forrás slot
	public CardSlot Target  = null; //A cél slot
	
	public CardSlot WinnerSlot = null; //A nyertes slot
	public int LoserDamage = 0; //A vesztes ennyi életet veszít
	
	public boolean SourceDestroyed = false; //A forrás elpusztul?
	public boolean TargetDestroyed = false; //A cél elpusztul?
	
	public AttackResult(YuGiOhGame game, CardSlot source, CardSlot target){
		Game = game;
		
		Source = source;
		Target = target;
	}
	
	/**
	 * Elvégzi a támadás következményeit.
	 */
	public void DoActions(){
		if(SourceDestroyed){
			Source.Card = null;
		}
		
		if(TargetDestroyed){
			Target.Card = null;
		}
		
		if(LoserDamage > 0 && WinnerSlot != null){
			Game.DamagePlayer(Game.GetOtherPlayer(WinnerSlot.Owner), LoserDamage);
		}
	}
}
